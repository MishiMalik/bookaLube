<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <!-- poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <!-- font awsome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
    <!-- style -->
    <link rel="stylesheet" href="assets/css/typography.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    <title>Book a Lube</title>
</head>

<body class="" >
    <nav class="navbar" style="background-color: #FBFAFC;">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="assets/images/logo2.png" alt="">
            </a>

            <div class="d-flex align-items-center">
                <img src="assets/images/Avatar.png" alt="" class="profile-img">
                <div class="dropdown">
                    <button class="btn dropdown-toggle profile-btn" type="button" id="dropdownMenuButton1"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        Craig
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                        <li><a class="dropdown-item" href="settings.html">Settings</a></li>
                        <li><a class="dropdown-item" href="index.html">Sign Out</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
    <div class="container">
        <div class="row mt-4">
            <div class="col-lg-10 col-md-10 mx-auto">
                <div class="accordian-head">
                    <div class="form-number">
                        <span>1</span>/6
                    </div>
                    <h2 class="main-heading text-white text-center mb-0 pb-0">Vehicle Information</h2>
                     <a href="home.html" class="text-decoration-none text-white">Home
                        <img src="assets/images/ar.svg" alt="">
                    </a>
                </div>
            </div>
            <div class="col-lg-6 col-md-10 mx-auto mt-lg-3">
                <form action="">
                    <div >
                        
                        <!-- accordion -->
                        <div class="accordion" id="accordionExample">
                            
                        </div>

                        <!-- form div -->
                        <div>
                            <div class="form-div" id="formDiv">
                                <div class="mb-3 lube-input lube-input2 ">
                                    <label for="exampleFormControlInput1 "
                                        class="form-label mb-0 text-end me-2">Car Nick
                                        Name</label>
                                    <div class="position-relative w-100">
                                        <input type="text" class="form-control" id="exampleFormControlInput1"
                                            placeholder="Enter Name">
                                    </div>
                                </div>
    
                                <div class="mb-3 lube-input lube-input2 ">
                                    <label class="form-label mb-0 text-end me-2">Year</label>
                                    <select class="form-select" aria-label="Default select example">
                                        <option selected>Select Year</option>
                                        <option value="1">One</option>
                                        <option value="2">Two</option>
                                        <option value="3">Three</option>
                                    </select>
                                </div>
    
                                <div class="mb-3 lube-input lube-input2 ">
                                    <label class="form-label mb-0 text-end me-2">Make</label>
                                    <select class="form-select" aria-label="Default select example">
                                        <option selected>Select Make</option>
                                        <option value="1">One</option>
                                        <option value="2">Two</option>
                                        <option value="3">Three</option>
                                    </select>
                                </div>
    
                                <div class="mb-3 lube-input lube-input2 ">
                                    <label class="form-label mb-0 text-end me-2">Model</label>
                                    <select class="form-select" aria-label="Default select example">
                                        <option selected>Select Model</option>
                                        <option value="1">One</option>
                                        <option value="2">Two</option>
                                        <option value="3">Three</option>
                                    </select>
                                </div>
    
                                <div class="mb-3 lube-input lube-input2 ">
                                    <label class="form-label mb-0 text-end me-2">Engine</label>
                                    <select class="form-select" aria-label="Default select example">
                                        <option selected>Select Engine</option>
                                        <option value="1">One</option>
                                        <option value="2">Two</option>
                                        <option value="3">Three</option>
                                    </select>
    
                                </div>
    
                                <div class="d-flex align-items-start justify-content-end info-div ms-auto mb-3">
                                    <img src="assets/images/info.svg" alt="" class="me-1 pt-1">
                                    <p class="text mb-0 pb-0 text-start">If engine size is unknow, we will
                                        update your
                                        profile after your first visit</p>
                                </div>
    
    
                            </div>
                        </div>
                    </div>
                    <div class=" d-flex align-items-center py-5 justify-content-center mx-auto flex-md-row flex-column">
                        <div class="me-md-2 me-0 mb-md-0 mb-3 btn-div">
                            <button type="button" class="main-btn-blank" id="addMoreBtn">
                                <svg width="25" height="24" viewBox="0 0 25 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M13.5 5C13.5 4.44772 13.0523 4 12.5 4C11.9477 4 11.5 4.44772 11.5 5V11H5.5C4.94772 11 4.5 11.4477 4.5 12C4.5 12.5523 4.94772 13 5.5 13H11.5V19C11.5 19.5523 11.9477 20 12.5 20C13.0523 20 13.5 19.5523 13.5 19V13H19.5C20.0523 13 20.5 12.5523 20.5 12C20.5 11.4477 20.0523 11 19.5 11H13.5V5Z" />
                                </svg>

                                Add More</button>
                        </div>
                    
                        <div class="btn-div">
                            <a href="step2.html" class="main-btn2">Submit & Next</a>
                        </div>
                    </div>
                </form>
            </div>


        </div>
    </div>
    <!-- Accordion item template -->
    <script type="text/template" id="option_template">
        <div class="accordion-item" id="accordionItem{accordionCounter}">
            <button type="button" class="trash-form"> <img src="assets/images/trash.svg" alt=""></button>
                          <h2 class="accordion-header" id="heading{accordionCounter}">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{accordionCounter}" aria-expanded="true" aria-controls="collapse{accordionCounter}">
                                Vehicle Information 
                            </button>
                          </h2>
                          <div id="collapse{accordionCounter}" class="accordion-collapse collapse show" aria-labelledby="heading{accordionCounter}" data-bs-parent="#accordionExample">
                            <div class="accordion-body">
                                {_form}
                            </div>
                          </div>
                        </div>
    </script>

    <!-- Form template -->
    <script type="text/template" id="form_template">
        <div class="form-div form-div2">
            <div class="mb-3 lube-input lube-input2 ">
                <label for="exampleFormControlInput1 "
                    class="form-label mb-0 text-end me-2">Car Nick
                    Name</label>
                <div class="position-relative w-100">
                    <input type="text" class="form-control" id="exampleFormControlInput1"
                        placeholder="Enter Name">
                </div>
            </div>

            <div class="mb-3 lube-input lube-input2 ">
                <label class="form-label mb-0 text-end me-2">Year</label>
                <select class="form-select" aria-label="Default select example">
                    <option selected>Select Year</option>
                    <option value="1">One</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                </select>
            </div>

            <div class="mb-3 lube-input lube-input2 ">
                <label class="form-label mb-0 text-end me-2">Make</label>
                <select class="form-select" aria-label="Default select example">
                    <option selected>Select Make</option>
                    <option value="1">One</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                </select>
            </div>

            <div class="mb-3 lube-input lube-input2 ">
                <label class="form-label mb-0 text-end me-2">Model</label>
                <select class="form-select" aria-label="Default select example">
                    <option selected>Select Model</option>
                    <option value="1">One</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                </select>
            </div>

            <div class="mb-3 lube-input lube-input2 ">
                <label class="form-label mb-0 text-end me-2">Engine</label>
                <select class="form-select" aria-label="Default select example">
                    <option selected>Select Engine</option>
                    <option value="1">One</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                </select>

            </div>

            <div class="d-flex align-items-start justify-content-end info-div ms-auto mb-3">
                <img src="assets/images/info.svg" alt="" class="me-1 pt-1">
                <p class="text mb-0 pb-0 text-start">If engine size is unknow, we will
                    update your
                    profile after your first visit</p>
            </div>


        </div>
    </script>

    <!-- Jquery -->
    <script src="https://code.jquery.com/jquery-3.7.1.slim.js"
        integrity="sha256-UgvvN8vBkgO0luPSUl2s8TIlOSYRoGFAX4jlCIm9Adc=" crossorigin="anonymous"></script>
    <!-- Popper -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.10.2/umd/popper.min.js"
        integrity="sha512-nnzkI2u2Dy6HMnzMIkh7CPd1KX445z38XIu4jG1jGw7x5tSL3VBjE44dY4ihMU1ijAQV930SPM12cCFrB18sVw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- bootstrap5 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

   <script>
        $(document).ready(function () {

            // Event listener for the "Add More" button
            // $('#addMoreBtn').on('click', function () {
            //     // Collapse all existing accordion items
            //     $('.accordion-collapse').removeClass('show');
            //     $('.accordion-button').addClass('collapsed')
            //     $('.accordion-button').attr('aria-expanded', false)

            //     let newAccordion = $('#option_template').html();

            //     var totalItems = $('#accordionExample').find('.accordion-item').length;

            //     newAccordion = newAccordion.replaceAll('{accordionCounter}', totalItems + 1);

            //     $('#accordionExample').append(newAccordion);

            // });
          

            $('#addMoreBtn').on('click', function () {
                var accordion = $("#accordionExample");
                var accordionItem = $('#option_template');

                var totalItems = accordion.find('.accordion-item').length;
                // accordionItemTemplate = accordionItem.replaceAll('{accordionCounter}', totalItems + 1);

                var formTemaplte = $('#form_template').html();

                if(accordion.html().trim().length == 0) {
                   accordionItem = accordionItem.html().replace("{_form}", $("#formDiv").parent().html())
                    // accordionItem.find('.accordion-body').html($("#formDiv").html())
                    accordionItem = accordionItem.replaceAll('{accordionCounter}', totalItems + 1)
                    accordionItem = accordionItem.replaceAll('id="formDiv"', "")
                    accordion.append(accordionItem)
                    $("#formDiv").parent().remove()
                    accordion.after(formTemaplte)
                } else {
                    accordionItem = accordionItem.html().replace("{_form}", formTemaplte)
                    accordionItem = accordionItem.replaceAll('{accordionCounter}', totalItems + 1)
                    accordion.append(accordionItem)
                }
            });
        });
    </script>

    <!-- Update the existing jQuery script -->
<script>
    $(document).ready(function () {
      // Event listener for the "trash-form" button click
      // Using event delegation for dynamically added elements
      $('body').on('click', '.trash-form', function () {
        // Find the closest ancestor with the class 'accordion-item' and remove it
        $(this).closest('.accordion-item').remove();
      });
  
      // Rest of your existing jQuery code here...
    });
  </script>
</body>

</html>